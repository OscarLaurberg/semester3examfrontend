{"version":3,"sources":["utils/apiUtils.js","config/settings.js","utils/JwtTokenParser.js","hooks/useAuth.jsx","components/utils/ToggleContent.jsx","components/utils/Modal.jsx","components/login/Login.jsx","components/login/Logout.jsx","components/login/LoginModal.jsx","components/header/index.js","components/header/Header.jsx","components/routes/ProtectedRoute.jsx","components/noMatch/NoMatch.jsx","components/home/Home.jsx","components/unauthorized/Unauthorized.jsx","components/movies/MovieInfo.jsx","components/movies/MovieInfoWRatings.jsx","components/movies/MovieCount.jsx","components/routes/Routes.jsx","components/routes/index.js","contexts/StateContext.jsx","App.js","index.js"],"names":["handleHttpErrors","res","ok","json","Promise","reject","status","fullError","apiUtils","fetchData","url","opts","a","fetch","makeOptions","method","body","token","headers","Accept","localStorage","getItem","JSON","stringify","getUserAndRoles","jwtTokenParsed","base64","split","replace","jsonPayload","decodeURIComponent","atob","map","c","charCodeAt","toString","slice","join","parse","parseJwt","roles","username","authContext","createContext","useAuth","useContext","ProvideAuth","children","auth","useState","setRoles","jwtToken","setJwtToken","name","setName","isLoggedIn","setIsLoggedIn","isLoading","setIsLoading","history","useHistory","useEffect","user","authenticateRole","role","includes","signIn","password","options","setItem","then","e","alert","message","console","log","signOut","removeItem","push","useProvideAuth","Provider","value","ToggleContent","toggler","content","isVisible","setIsVisible","modalRoot","document","querySelector","Modal","hideModal","containerDiv","createElement","appendChild","addEventListener","keyCode","removeChild","createPortal","LogIn","loginCredentials","setLoginCredentials","onChange","evt","target","id","Grid","textAlign","style","height","width","verticalAlign","Column","maxWidth","Header","as","color","Form","size","Segment","stacked","Input","fluid","icon","iconPosition","placeholder","type","Button","loading","onClick","preventDefault","Message","to","Logout","LoginModal","show","btnTxt","marginRight","loginBtn","hide","modalContent","Menu","Container","Item","NavLink","exact","position","primary","Link","ProtectedRoute","authenticatedRoles","rest","render","some","r","indexOf","pathname","NoMatch","Home","Unauthorized","MovieInfo","React","movieTitleInput","setmovieTitleInput","movie","setMovie","marginBottom","disabled","length","response","catch","poster","display","alt","maxHeight","src","padding","margin","title","year","genres","plot","directors","cast","key","MovieInfoWRatings","tomatoRating","imdbRating","metacriticRating","MovieCount","foundMovieTitle","setFoundMovieTitle","count","setCount","Routes","path","StateContext","defaultState","past","present","age","email","future","reducer","state","action","newPresent","payload","filter","obj","newPast","newFuture","StateProvider","useReducer","dispatch","stateObjects","addState","stateObject","RemoveState","undoState","redoState","isPast","isFuture","App","AppWithRouter","StrictMode","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.5dc18678.chunk.js","sourcesContent":["import { backendUrl } from '../config/settings';\r\n\r\nconst handleHttpErrors = (res) => {\r\n  if (!res.ok) {\r\n    return Promise.reject({ status: res.status, fullError: res.json() });\r\n  }\r\n  return res.json();\r\n};\r\n\r\nconst makeOptions = (method, body = null, token = true) => {\r\n  const opts = {\r\n    method: method,\r\n    headers: {\r\n      'Content-type': 'application/json',\r\n      Accept: 'application/json'\r\n    }\r\n  };\r\n  if (token) {\r\n    opts.headers['x-access-token'] = localStorage.getItem('jwtToken');\r\n  }\r\n  if (body) {\r\n    opts.body = JSON.stringify(body);\r\n  }\r\n  return opts;\r\n};\r\n\r\nconst fetchData = async (url, opts) => {\r\n  const res = await fetch(`${backendUrl}${url}`, opts);\r\n  return handleHttpErrors(res);\r\n};\r\n\r\nexport const apiUtils = {\r\n  fetchData: fetchData,\r\n  handleHttpErrors: handleHttpErrors,\r\n  makeOptions: makeOptions\r\n};\r\n","// Has to the URL WITH(!!!) /api so fetches only needs /jokes /scrape whatever..\r\nexport const backendUrl = 'https://laurberg.codes/sem3exambackend/api';\r\n","const parseJwt = (token) => {\r\n  var base64Url = token.split('.')[1];\r\n  var base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');\r\n  var jsonPayload = decodeURIComponent(\r\n    atob(base64)\r\n      .split('')\r\n      .map(function(c) {\r\n        return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);\r\n      })\r\n      .join('')\r\n  );\r\n  return JSON.parse(jsonPayload);\r\n};\r\n\r\nexport const getUserAndRoles = (token) => {\r\n  const jwtTokenParsed = parseJwt(token);\r\n  const roles = jwtTokenParsed.roles.split(',');\r\n  return {\r\n    username: jwtTokenParsed.username,\r\n    roles: roles\r\n  };\r\n};\r\n","import React, { useState, useContext, useEffect, createContext } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { apiUtils } from '../utils/apiUtils';\r\nimport { getUserAndRoles } from '../utils/JwtTokenParser';\r\n\r\nconst authContext = createContext();\r\n\r\n// Hook for child components to get the auth object ...\r\n// ... and re-render when it changes.\r\n// Returns the auth context..\r\nexport const useAuth = () => {\r\n  return useContext(authContext);\r\n};\r\n\r\nconst useProvideAuth = () => {\r\n  const [roles, setRoles] = useState(null);\r\n  const [jwtToken, setJwtToken] = useState();\r\n  const [name, setName] = useState(null);\r\n  const [isLoggedIn, setIsLoggedIn] = useState();\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    // Checks logged in\r\n    setJwtToken(localStorage.getItem('jwtToken'));\r\n    setIsLoggedIn(!!jwtToken);\r\n\r\n    // Set roles\r\n    if (jwtToken) {\r\n      const { username, roles } = getUserAndRoles(jwtToken);\r\n      setName(username);\r\n      setRoles(roles);\r\n    }\r\n  }, [jwtToken]);\r\n\r\n  const signIn = async (username, password) => {\r\n    const options = apiUtils.makeOptions('POST', {\r\n      username: username,\r\n      password: password\r\n    });\r\n\r\n    try {\r\n      setIsLoading(true);\r\n      const res = await apiUtils.fetchData('/login', options);\r\n      setName(res.username);\r\n      setJwtToken(res.token);\r\n      localStorage.setItem('jwtToken', res.token);\r\n      setRoles(res.roles);\r\n    } catch (error) {\r\n      if (error.status) {\r\n        error.fullError.then((e) => alert(e.message));\r\n      } else {\r\n        console.log('Network error');\r\n      }\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const signOut = () => {\r\n    setName(null);\r\n    setJwtToken(null);\r\n    localStorage.removeItem('jwtToken');\r\n    history.push('/');\r\n  };\r\n\r\n  const authenticateRole = (role) => {\r\n    return isLoggedIn && roles.includes(role);\r\n  };\r\n\r\n  // Return user object and auth methods\r\n  return {\r\n    user: {\r\n      name,\r\n      roles,\r\n      authenticateRole,\r\n      jwtToken,\r\n      isLoggedIn\r\n    },\r\n    signIn,\r\n    signOut,\r\n    isLoading\r\n  };\r\n};\r\n\r\n// In order to use the context, we have to provide it...\r\nconst ProvideAuth = ({ children }) => {\r\n  const auth = useProvideAuth();\r\n  return <authContext.Provider value={auth}>{children}</authContext.Provider>;\r\n};\r\n\r\nexport default ProvideAuth;\r\n","import React, { useState } from 'react';\r\n\r\nconst ToggleContent = ({ toggler, content }) => {\r\n  const [isVisible, setIsVisible] = useState(false);\r\n  const show = () => setIsVisible(true);\r\n  const hide = () => setIsVisible(false);\r\n\r\n  return (\r\n    <>\r\n      {toggler(show)}\r\n      {isVisible && content(hide)}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ToggleContent;\r\n","import { useEffect } from 'react';\r\nimport { createPortal } from 'react-dom';\r\n\r\nconst modalRoot = document.querySelector('#modal');\r\n\r\nconst Modal = ({ children, hideModal }) => {\r\n  const containerDiv = document.createElement('div');\r\n\r\n  useEffect(() => {\r\n    modalRoot.appendChild(containerDiv);\r\n    function keyListener(e) {\r\n      if (e.keyCode === 27) {\r\n        hideModal();\r\n      }\r\n    }\r\n    document.addEventListener('keydown', keyListener);\r\n    return () => modalRoot.removeChild(containerDiv);\r\n  }, [containerDiv, hideModal]);\r\n\r\n  return createPortal(children, containerDiv);\r\n};\r\n\r\nexport default Modal;\r\n","import React, { useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport {\r\n  Button,\r\n  Form,\r\n  Grid,\r\n  Header,\r\n  Message,\r\n  Segment\r\n} from 'semantic-ui-react';\r\nimport { useAuth } from '../../hooks/useAuth.jsx';\r\n\r\nexport default function LogIn({ hideModal }) {\r\n  const { signIn, isLoading } = useAuth();\r\n  const init = { username: '', password: '' };\r\n  const [loginCredentials, setLoginCredentials] = useState(init);\r\n\r\n  const handleLogin = (evt) => {\r\n    evt.preventDefault();\r\n    signIn(loginCredentials.username, loginCredentials.password);\r\n    hideModal();\r\n  };\r\n\r\n  const onChange = (evt) => {\r\n    setLoginCredentials({\r\n      ...loginCredentials,\r\n      [evt.target.id]: evt.target.value\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Grid\r\n      textAlign='center'\r\n      style={{ height: '50vh', width: '50vh' }}\r\n      verticalAlign='middle'\r\n    >\r\n      <Grid.Column style={{ maxWidth: 450 }}>\r\n        <Header as='h2' color='blue' textAlign='center'>\r\n          Welcome back. Sign in below!\r\n        </Header>\r\n        <Form size='large'>\r\n          <Segment stacked>\r\n            <Form.Input\r\n              fluid\r\n              icon='user'\r\n              iconPosition='left'\r\n              placeholder='Username'\r\n              id='username'\r\n              onChange={onChange}\r\n              value={loginCredentials.username}\r\n            />\r\n            <Form.Input\r\n              fluid\r\n              icon='lock'\r\n              iconPosition='left'\r\n              placeholder='Password'\r\n              type='password'\r\n              id='password'\r\n              onChange={onChange}\r\n              value={loginCredentials.password}\r\n            />\r\n\r\n            <Button\r\n              loading={isLoading}\r\n              onClick={handleLogin}\r\n              color='blue'\r\n              fluid\r\n              size='large'\r\n            >\r\n              Login\r\n            </Button>\r\n          </Segment>\r\n        </Form>\r\n        <Message>\r\n          New User? <Link to='/signup'>Sign up!</Link>\r\n        </Message>\r\n      </Grid.Column>\r\n    </Grid>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { Button, Grid, Header } from 'semantic-ui-react';\r\nimport { useAuth } from '../../hooks/useAuth.jsx';\r\n\r\nconst Logout = ({ hideModal }) => {\r\n  const { isLoading, signOut } = useAuth();\r\n\r\n  const handleLogout = () => {\r\n    signOut();\r\n    hideModal();\r\n  };\r\n\r\n  return (\r\n    <Grid\r\n      textAlign='center'\r\n      style={{ height: '50vh', width: '50vh' }}\r\n      verticalAlign='middle'\r\n    >\r\n      <Grid.Column style={{ maxWidth: 450 }}>\r\n        <Header as='h2' color='blue' textAlign='center'>\r\n          We are sad to see you leave - Are you sure you want to sign out?\r\n        </Header>\r\n        <Button\r\n          loading={isLoading}\r\n          onClick={handleLogout}\r\n          color='blue'\r\n          fluid\r\n          size='large'\r\n        >\r\n          Sign out\r\n        </Button>\r\n      </Grid.Column>\r\n    </Grid>\r\n  );\r\n};\r\n\r\nexport default Logout;\r\n","import React from 'react';\r\nimport ToggleContent from '../utils/ToggleContent.jsx';\r\nimport Modal from '../utils/Modal.jsx';\r\nimport LogIn from './Login.jsx';\r\nimport { Button } from 'semantic-ui-react';\r\nimport { useAuth } from '../../hooks/useAuth.jsx';\r\nimport Logout from './Logout.jsx';\r\n\r\nconst LoginModal = () => {\r\n  const {\r\n    user: { isLoggedIn }\r\n  } = useAuth();\r\n\r\n  // Toggler\r\n  const loginBtn = (show) => {\r\n    const btnTxt = isLoggedIn ? 'Logout' : 'Login';\r\n    return (\r\n      <Button style={{ marginRight: '0.5em' }} onClick={show}>\r\n        {btnTxt}\r\n      </Button>\r\n    );\r\n  };\r\n\r\n  // Content\r\n  const modalContent = (hide) => {\r\n    return (\r\n      <Modal hideModal={hide}>\r\n        {isLoggedIn ? <Logout hideModal={hide} /> : <LogIn hideModal={hide} />}\r\n      </Modal>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <ToggleContent\r\n      toggler={(show) => loginBtn(show)}\r\n      content={(hide) => modalContent(hide)}\r\n    />\r\n  );\r\n};\r\n\r\nexport default LoginModal;\r\n","import Header from './Header.jsx';\r\n\r\nexport default Header;\r\n","import React from 'react';\r\nimport { NavLink, Link } from 'react-router-dom';\r\nimport { Menu, Container, Button } from 'semantic-ui-react';\r\nimport { useAuth } from '../../hooks/useAuth.jsx';\r\nimport LoginModal from '../login/LoginModal.jsx';\r\n\r\nexport default function Header() {\r\n  const {\r\n    user: { isLoggedIn, name, authenticateRole }\r\n  } = useAuth();\r\n\r\n  const handleLoginLogOut = () => {\r\n    return isLoggedIn ? (\r\n      <Menu.Item position='right'>\r\n        <Button\r\n          content={name}\r\n          icon='user'\r\n          primary\r\n          style={{ marginRight: '0.5em' }}\r\n        />\r\n        <LoginModal />\r\n      </Menu.Item>\r\n    ) : (\r\n      <>\r\n        <Menu.Item position='right'>\r\n          <Button\r\n            as={Link}\r\n            to='/signup'\r\n            primary\r\n            style={{ marginRight: '0.5em' }}\r\n          >\r\n            Sign Up\r\n          </Button>\r\n          <LoginModal />\r\n        </Menu.Item>\r\n      </>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <Menu>\r\n      <Container>\r\n        <Menu.Item as={NavLink} exact to='/' name='home'>\r\n          Home\r\n        </Menu.Item>\r\n\r\n        {!(authenticateRole('admin') || authenticateRole('user')) && (\r\n          <Menu.Item as={NavLink} exact to='/movieInfo' name='movieInfo'>\r\n            Movie info\r\n          </Menu.Item>\r\n        )}\r\n\r\n        {(authenticateRole('admin') || authenticateRole('user')) && (\r\n          <Menu.Item\r\n            as={NavLink}\r\n            exact\r\n            to='/detailedMovieInfo'\r\n            name='detailedMovieInfo'\r\n          >\r\n            Movie info VIP\r\n          </Menu.Item>\r\n        )}\r\n\r\n        {authenticateRole('admin') && (\r\n          <Menu.Item as={NavLink} exact to='/movieCount' name='movieCount'>\r\n            Movie count\r\n          </Menu.Item>\r\n        )}\r\n\r\n        {handleLoginLogOut()}\r\n      </Container>\r\n    </Menu>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { useAuth } from '../../hooks/useAuth.jsx';\r\n\r\nconst ProtectedRoute = ({ children, authenticatedRoles, ...rest }) => {\r\n  const {\r\n    user: { isLoggedIn, roles }\r\n  } = useAuth();\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={() =>\r\n        isLoggedIn && roles.some((r) => authenticatedRoles.indexOf(r) >= 0) ? (\r\n          children\r\n        ) : (\r\n          <Redirect\r\n            to={{\r\n              pathname: '/unauthorized'\r\n            }}\r\n          />\r\n        )\r\n      }\r\n    />\r\n  );\r\n};\r\n\r\nexport default ProtectedRoute;\r\n","import React from \"react\";\r\n\r\nexport default function NoMatch() {\r\n  return <h1>No pages matches this path</h1>;\r\n}\r\n","import React from \"react\";\r\n\r\nexport default function Home() {\r\n  return <h1>Home</h1>;\r\n}\r\n","import React from 'react';\r\nimport LoginModal from '../login/LoginModal.jsx';\r\n\r\nconst Unauthorized = () => {\r\n  return (\r\n    <>\r\n      <h1>Unauthorized - Please Login</h1>\r\n      <LoginModal />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Unauthorized;\r\n","import React from 'react';\r\nimport { apiUtils } from '../../utils/apiUtils';\r\nimport { Button, Input } from 'semantic-ui-react';\r\n\r\nexport default function MovieInfo() {\r\n  const [movieTitleInput, setmovieTitleInput] = React.useState('');\r\n  const [movie, setMovie] = React.useState({});\r\n\r\n  const handleSubmit = () => {\r\n    const opts = apiUtils.makeOptions('GET');\r\n    apiUtils\r\n      .fetchData(`/movie-info/${movieTitleInput}`, opts)\r\n      .then((response) => {\r\n        setMovie(response);\r\n      })\r\n      .catch(console.log);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div style={{ marginBottom: 20 }}>\r\n        <Input\r\n          placeholder='movie title'\r\n          value={movieTitleInput}\r\n          onChange={(e) => setmovieTitleInput(e.target.value)}\r\n        />\r\n        <Button\r\n          content='Primary'\r\n          disabled={movieTitleInput.length <= 0}\r\n          onClick={handleSubmit}\r\n        >\r\n          Submit\r\n        </Button>\r\n      </div>\r\n      {movie.poster && (\r\n        <div style={{ display: 'flex' }}>\r\n          <div>\r\n            <img\r\n              alt='poster'\r\n              style={{ maxHeight: '300px' }}\r\n              src={movie.poster}\r\n            />\r\n          </div>\r\n          <div style={{ padding: 20 }}>\r\n            <h2 style={{ margin: 0 }}>\r\n              {movie.title} ({movie.year})\r\n            </h2>\r\n            <p>{movie.genres}</p>\r\n\r\n            <p>\r\n              <b>Plot: </b>\r\n              {movie.plot}\r\n            </p>\r\n            <p>\r\n              <b>Director: </b>\r\n              {movie.directors}\r\n            </p>\r\n            <p>\r\n              <b>Actors: </b>\r\n            </p>\r\n\r\n            <ul>\r\n              {movie.cast.split(',').map((a) => {\r\n                return <li key={a}>{a}</li>;\r\n              })}\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { apiUtils } from '../../utils/apiUtils';\r\nimport { Button, Input } from 'semantic-ui-react';\r\n\r\nexport default function MovieInfoWRatings() {\r\n  const [movieTitleInput, setmovieTitleInput] = React.useState('');\r\n  const [movie, setMovie] = React.useState({});\r\n\r\n  const handleSubmit = () => {\r\n    const opts = apiUtils.makeOptions('GET');\r\n    apiUtils\r\n      .fetchData(`/movie-info-all-ratings/${movieTitleInput}`, opts)\r\n      .then((response) => {\r\n        setMovie(response);\r\n      })\r\n      .catch(console.log);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div style={{ marginBottom: 20 }}>\r\n        <Input\r\n          placeholder='movie title'\r\n          value={movieTitleInput}\r\n          onChange={(e) => setmovieTitleInput(e.target.value)}\r\n        />\r\n        <Button\r\n          content='Primary'\r\n          primary\r\n          disabled={movieTitleInput.length <= 0}\r\n          onClick={handleSubmit}\r\n        >\r\n          Submit\r\n        </Button>\r\n      </div>\r\n      {movie.poster && (\r\n        <div style={{ display: 'flex' }}>\r\n          <div>\r\n            <img\r\n              alt='poster'\r\n              style={{ maxHeight: '300px' }}\r\n              src={movie.poster}\r\n            />\r\n          </div>\r\n          <div style={{ padding: 20 }}>\r\n            <h2 style={{ margin: 0 }}>\r\n              {movie.title} ({movie.year})\r\n            </h2>\r\n            <p>{movie.genres}</p>\r\n\r\n            <p style={{ maxWidth: '400px' }}>\r\n              <b>Plot: </b>\r\n              {movie.plot}\r\n            </p>\r\n            <p>\r\n              <b>Director: </b>\r\n              {movie.directors}\r\n            </p>\r\n            <p>\r\n              <b>Actors: </b>\r\n            </p>\r\n\r\n            <ul>\r\n              {movie.cast.split(',').map((a) => {\r\n                return <li key={a}>{a}</li>;\r\n              })}\r\n            </ul>\r\n            <p>Rotten tomatoes score: {movie.tomatoRating} / 10</p>\r\n            <p>IMDB score: {movie.imdbRating} / 10</p>\r\n            <p>Metacritis score: {movie.metacriticRating} / 100</p>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { apiUtils } from '../../utils/apiUtils';\r\nimport { Button, Input } from 'semantic-ui-react';\r\n\r\nexport default function MovieCount() {\r\n  const [movieTitleInput, setmovieTitleInput] = React.useState('');\r\n  const [foundMovieTitle, setFoundMovieTitle] = React.useState();\r\n  const [count, setCount] = React.useState();\r\n\r\n  const handleSubmit = () => {\r\n    const opts = apiUtils.makeOptions('GET');\r\n    apiUtils\r\n      .fetchData(`/movie-count/${movieTitleInput}`, opts)\r\n      .then((response) => {\r\n        setCount(response);\r\n        setFoundMovieTitle(movieTitleInput);\r\n      })\r\n      .catch(console.log);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div style={{ marginBottom: 20 }}>\r\n        <Input\r\n          placeholder='movie title'\r\n          value={movieTitleInput}\r\n          onChange={(e) => setmovieTitleInput(e.target.value)}\r\n        />\r\n        <Button\r\n          content='Primary'\r\n          primary\r\n          disabled={movieTitleInput.length <= 0}\r\n          onClick={handleSubmit}\r\n        >\r\n          Submit\r\n        </Button>\r\n      </div>\r\n      {count && (\r\n        <h3>\r\n          {`Title: \"${foundMovieTitle}\" have been searched for ${count} times`}\r\n        </h3>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { Switch, Route } from 'react-router-dom';\r\nimport NoMatch from '../noMatch/';\r\nimport Home from '../home/';\r\nimport ProtectedRoute from './ProtectedRoute.jsx';\r\nimport Unauthorized from '../unauthorized/';\r\nimport MovieInfo from '../movies/MovieInfo.jsx';\r\nimport MovieInfoWRatings from '../movies/MovieInfoWRatings.jsx';\r\nimport MovieCount from '../movies/MovieCount.jsx';\r\n\r\nconst Routes = () => {\r\n  return (\r\n    <Switch>\r\n      <Route exact path='/'>\r\n        <Home />\r\n      </Route>\r\n\r\n      <Route path='/movieInfo'>\r\n        <MovieInfo />\r\n      </Route>\r\n\r\n      <ProtectedRoute\r\n        authenticatedRoles={['admin', 'user']}\r\n        path='/detailedMovieInfo'\r\n      >\r\n        <MovieInfoWRatings />\r\n      </ProtectedRoute>\r\n\r\n      <ProtectedRoute authenticatedRoles={['admin']} path='/movieCount'>\r\n        <MovieCount />\r\n      </ProtectedRoute>\r\n\r\n      <Route path='/unauthorized'>\r\n        <Unauthorized />\r\n      </Route>\r\n\r\n      <Route>\r\n        <NoMatch />\r\n      </Route>\r\n    </Switch>\r\n  );\r\n};\r\n\r\nexport default Routes;\r\n","import ProtectedRoute from './ProtectedRoute.jsx';\r\nimport Routes from './Routes.jsx';\r\n\r\nexport { ProtectedRoute };\r\nexport default Routes;\r\n","import React, { useReducer, createContext } from \"react\";\r\nimport id from \"uuid/v4\";\r\n\r\nexport const StateContext = createContext();\r\n\r\nconst STATE_ADD = \"STATE_ADD\";\r\nconst STATE_REMOVE = \"STATE_REMOVE\";\r\nconst STATE_UNDO = \"STATE_UNDO\";\r\nconst STATE_REDO = \"STATE_REDO\";\r\n\r\nconst initialState = [\r\n  { id: id(), name: \"test1\", age: 20, email: \"hej@hej1.dk\" },\r\n  { id: id(), name: \"test2\", age: 21, email: \"hej@hej2.dk\" },\r\n  { id: id(), name: \"test3\", age: 22, email: \"hej@hej3.dk\" }\r\n];\r\n\r\nconst defaultState = {\r\n  past: [],\r\n  present: initialState,\r\n  future: []\r\n};\r\n\r\nconst reducer = (state = defaultState, action) => {\r\n  if (action.type === STATE_ADD) {\r\n    const newPresent = [\r\n      {\r\n        id: id(),\r\n        ...action.payload\r\n      },\r\n      ...state.present\r\n    ];\r\n    return {\r\n      past: [state.present, ...state.past],\r\n      present: newPresent,\r\n      future: []\r\n    };\r\n  }\r\n\r\n  if (action.type === STATE_REMOVE) {\r\n    const newPresent = state.present.filter(\r\n      obj => obj.id !== action.payload.id\r\n    );\r\n    return {\r\n      past: [state.present, ...state.past],\r\n      present: newPresent,\r\n      future: []\r\n    };\r\n  }\r\n\r\n  if (action.type === STATE_UNDO) {\r\n    const [newPresent, ...newPast] = state.past;\r\n    return {\r\n      past: newPast,\r\n      present: newPresent,\r\n      future: [state.present, ...state.future]\r\n    };\r\n  }\r\n\r\n  if (action.type === STATE_REDO) {\r\n    const [newPresent, ...newFuture] = state.future;\r\n    return {\r\n      past: [state.present, ...state.past],\r\n      present: newPresent,\r\n      future: [...newFuture]\r\n    };\r\n  }\r\n  return state;\r\n};\r\n\r\nexport const StateProvider = ({ children }) => {\r\n  const [state, dispatch] = useReducer(reducer, defaultState);\r\n  const stateObjects = state.present;\r\n  const isPast = !!state.past.length;\r\n  const isFuture = !!state.future.length;\r\n\r\n  const addState = stateObject => {\r\n    dispatch({\r\n      type: STATE_ADD,\r\n      payload: {\r\n        ...stateObject\r\n      }\r\n    });\r\n  };\r\n\r\n  const RemoveState = id => {\r\n    dispatch({\r\n      type: STATE_REMOVE,\r\n      payload: {\r\n        id\r\n      }\r\n    });\r\n  };\r\n\r\n  const undoState = () => {\r\n    dispatch({\r\n      type: STATE_UNDO\r\n    });\r\n  };\r\n\r\n  const redoState = () => {\r\n    dispatch({\r\n      type: STATE_REDO\r\n    });\r\n  };\r\n\r\n  const value = {\r\n    stateObjects,\r\n    addState,\r\n    RemoveState,\r\n    undoState,\r\n    redoState,\r\n    isPast,\r\n    isFuture\r\n  };\r\n  return (\r\n    <StateContext.Provider value={value}>{children}</StateContext.Provider>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport Header from './components/header';\r\nimport Routes from './components/routes/';\r\nimport { Container } from 'semantic-ui-react';\r\nimport ProvideAuth from './hooks/useAuth.jsx';\r\nimport { StateProvider } from './contexts/StateContext.jsx';\r\n\r\nfunction App() {\r\n  return (\r\n    <StateProvider>\r\n      <ProvideAuth>\r\n        <Header />\r\n        <Container>\r\n          <Routes />\r\n        </Container>\r\n      </ProvideAuth>\r\n    </StateProvider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport { HashRouter as Router } from 'react-router-dom';\r\nimport './style.css';\r\nimport 'semantic-ui-css/semantic.min.css';\r\n\r\nconst AppWithRouter = () => {\r\n  return (\r\n    <React.StrictMode>\r\n      <Router>\r\n        <App />\r\n      </Router>\r\n    </React.StrictMode>\r\n  );\r\n};\r\n\r\nReactDOM.render(<AppWithRouter />, document.getElementById('root'));\r\n"],"sourceRoot":""}